<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEXUS INFINITY</title>
    <style>
        :root { --bg: #0a0a0f; --panel: #14141f; --border: #252535; --accent: #00d4aa; --text: #e8e8f0; --user: #3b82f6; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background: var(--bg); color: var(--text); min-height: 100vh; display: flex; justify-content: center; align-items: center; padding: 10px; }
        a { color: var(--accent); }
        img { max-width: 100%; border-radius: 8px; margin-top: 10px; }
        details { margin-top: 10px; cursor: pointer; }
        summary { color: var(--accent); }
        code { background: #1a1a2a; padding: 2px 6px; border-radius: 4px; font-family: monospace; }
        . container { width: 100%; max-width: 900px; height: 95vh; background: var(--panel); border-radius: 20px; display: flex; flex-direction: column; overflow: hidden; border: 1px solid var(--border); box-shadow: 0 25px 80px rgba(0,0,0,0.6); }
        . header { padding: 20px 24px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; background: linear-gradient(135deg, #14141f, #1a1a2a); }
        .brand { font-size: 1.4rem; font-weight: bold; background: linear-gradient(90deg, var(--accent), #00ffcc); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .status { font-size: 0.8rem; color: var(--accent); display: flex; align-items: center; gap: 6px; }
        .status::before { content: ''; width: 8px; height: 8px; background: var(--accent); border-radius: 50%; animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .header-btn { background: var(--border); border: none; color: var(--text); padding: 8px 16px; border-radius: 8px; cursor: pointer; font-size: 0.85rem; }
        .header-btn:hover { background: var(--accent); color: #000; }
        . chat-area { flex: 1; padding: 24px; overflow-y: auto; display: flex; flex-direction: column; gap: 20px; }
        .msg { display: flex; gap: 14px; max-width: 85%; animation: slideIn 0.3s ease-out; }
        .msg. user { align-self: flex-end; flex-direction: row-reverse; }
        .msg.bot { align-self: flex-start; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        .avatar { width: 44px; height: 44px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-weight: bold; flex-shrink: 0; font-size: 1.2rem; }
        .msg. bot . avatar { background: linear-gradient(135deg, var(--accent), #00aa88); color: #000; }
        .msg. user .avatar { background: var(--user); color: #fff; }
        . bubble { padding: 16px 20px; border-radius: 18px; line-height: 1.7; font-size: 0.95rem; }
        .msg.bot .bubble { background: #1c1c2c; border: 1px solid var(--border); border-top-left-radius: 4px; }
        .msg. user .bubble { background: var(--user); border-top-right-radius: 4px; }
        . input-controls { padding: 20px 24px; border-top: 1px solid var(--border); background: rgba(20, 20, 31, 0.9); }
        . input-row { display: flex; gap: 12px; }
        #input-field { flex: 1; padding: 16px 20px; background: var(--bg); border: 1px solid var(--border); border-radius: 14px; color: white; font-size: 1rem; outline: none; }
        #input-field:focus { border-color: var(--accent); box-shadow: 0 0 15px rgba(0, 212, 170, 0.15); }
        #send-button { background: linear-gradient(135deg, var(--accent), #00aa88); border: none; color: #000; padding: 0 30px; border-radius: 14px; cursor: pointer; font-size: 1rem; font-weight: 600; }
        #send-button:hover { transform: scale(1.02); }
        #send-button:disabled { opacity: 0.5; cursor: not-allowed; }
        .quick-actions { display: flex; gap: 8px; margin-top: 12px; flex-wrap: wrap; }
        .quick-btn { background: var(--border); border: none; color: #aaa; padding: 8px 14px; border-radius: 20px; cursor: pointer; font-size: 0.8rem; }
        .quick-btn:hover { background: var(--accent); color: #000; }
        .typing span { animation: blink 1. 4s infinite both; }
        . typing span:nth-child(2) { animation-delay: 0.2s; }
        .typing span:nth-child(3) { animation-delay: 0.4s; }
        @keyframes blink { 0%, 100% { opacity: 0. 2; } 50% { opacity: 1; } }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <div class="brand">NEXUS INFINITY</div>
        <div style="display: flex; gap: 12px; align-items: center;">
            <div class="status">234,567+ Databases Connected</div>
            <button class="header-btn" onclick="document.getElementById('chat'). innerHTML='';">Clear</button>
        </div>
    </div>
    <div class="chat-area" id="chat">
        <div class="msg bot">
            <div class="avatar">‚àû</div>
            <div class="bubble">
                <strong>NEXUS INFINITY Online</strong><br><br>
                I have access to 234,567+ databases through free public APIs. I can search the web, provide live weather, crypto prices, definitions, and much more. <br><br>
                <strong>Try these commands:</strong><br>
                üåê "Search for artificial intelligence"<br>
                üå§Ô∏è "Weather in Tokyo"<br>
                üìö "Wiki Albert Einstein"<br>
                üí∞ "Price of Bitcoin"<br>
                üìñ "Define serendipity"<br>
                ü™ô "Flip a coin"<br>
                üòÇ "Tell me a joke"<br>
                üí¨ "Give me a quote"<br>
                üêï "Random dog"<br><br>
                Or just chat with me naturally! 
            </div>
        </div>
    </div>
    <div class="input-controls">
        <div class="input-row">
            <input type="text" id="input-field" placeholder="Ask me anything..." autocomplete="off">
            <button id="send-button">Send</button>
        </div>
        <div class="quick-actions">
            <button class="quick-btn" onclick="quickSend('Search for latest tech news')">üîç Web Search</button>
            <button class="quick-btn" onclick="quickSend('Weather in New York')">üå§Ô∏è Weather</button>
            <button class="quick-btn" onclick="quickSend('Price of Bitcoin')">üí∞ Crypto</button>
            <button class="quick-btn" onclick="quickSend('Tell me a joke')">üòÇ Joke</button>
            <button class="quick-btn" onclick="quickSend('Random trivia')">üéØ Trivia</button>
            <button class="quick-btn" onclick="quickSend('Give me advice')">üí° Advice</button>
        </div>
    </div>
</div>
<script>
const chat = document.getElementById('chat');
const input = document.getElementById('input-field');
const sendBtn = document.getElementById('send-button');

function addMessage(role, text) {
    const div = document.createElement('div');
    div.className = `msg ${role}`;
    div.innerHTML = `<div class="avatar">${role === 'user' ? 'U' : '‚àû'}</div><div class="bubble">${text}</div>`;
    chat.appendChild(div);
    chat.scrollTop = chat.scrollHeight;
    return div;
}

function quickSend(text) {
    input.value = text;
    handleSend();
}

async function handleSend() {
    const text = input.value. trim();
    if (!text) return;

    addMessage('user', text);
    input. value = '';
    sendBtn.disabled = true;

    const thinkingMsg = addMessage('bot', '<span class="typing"><span>. </span><span>. </span><span>. </span></span> Processing...');

    try {
        const response = await fetch('/api/chat', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ message: text })
        });

        if (!response.ok) throw new Error(`Server error: ${response. status}`);

        const data = await response.json();
        thinkingMsg.querySelector('.bubble').innerHTML = data.response;

    } catch (error) {
        thinkingMsg.querySelector('.bubble').innerHTML = `<strong>Error:</strong> ${error. message}.  Is the server running?`;
    } finally {
        sendBtn.disabled = false;
        input.focus();
        chat.scrollTop = chat.scrollHeight;
    }
}

sendBtn.addEventListener('click', handleSend);
input.addEventListener('keypress', (e) => { if (e.key === 'Enter') handleSend(); });
</script>
</body>
</html>
